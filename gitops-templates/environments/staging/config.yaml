# Staging Environment Configuration
environment: staging
description: Staging environment for pre-production validation

variables:
  # Domain configuration
  BASE_DOMAIN: "staging.apim.cab-i.com"
  GATEWAY_URL: "https://gateway.staging.apim.cab-i.com"
  PORTAL_URL: "https://portal.staging.apim.cab-i.com"

  # Backend configuration
  BACKEND_TIMEOUT: "30"
  BACKEND_RETRY_COUNT: "3"

  # Rate limiting (moderate)
  RATE_LIMIT_REQUESTS: "500"
  RATE_LIMIT_WINDOW: "60"
  RATE_LIMIT_BURST: "50"

  # Logging
  LOG_LEVEL: "INFO"

  # Security
  CORS_ALLOWED_ORIGINS: "https://*.staging.apim.cab-i.com"

  # Monitoring
  METRICS_ENABLED: "true"
  TRACING_ENABLED: "true"
  TRACING_SAMPLE_RATE: "0.5"

# Staging-specific settings
settings:
  auto_deploy: false
  require_approval: true
  approval_roles:
    - devops
    - tenant-admin
  allow_untested_apis: false

# Vault path prefix for this environment
vault:
  path_prefix: "secret/data/staging"
